# Generated by Django 5.1.2 on 2024-11-23 16:06

import apps.gallery.models
import autoslug.fields
import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Color',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50)),
            ],
        ),
        migrations.CreateModel(
            name='ProductCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=50)),
            ],
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('modified_at', models.DateTimeField(auto_now=True)),
                ('description', models.TextField(blank=True)),
                ('display', models.BooleanField(default=True, help_text='If selected, this product will be displayed in Site Gallery')),
                ('shop_sync', models.BooleanField(default=False, help_text="If selected, this product's data will synced with Shopify and available via the Shopify Online Store and Shopify POS. Please note, updates made via Shopify Admin will be overridden, and do not sync withthis site.")),
                ('shop_global_id', models.CharField(blank=True, editable=False, help_text='Shopify Global productID', max_length=100)),
                ('shop_status', models.CharField(choices=[('ACTIVE', 'Active'), ('DRAFT', 'Draft'), ('ARCHIVED', 'Archived')], default='DRAFT', max_length=10)),
                ('sku', models.CharField(blank=True, max_length=50)),
                ('price', models.FloatField(default=0, help_text="If item is not synced with Shopify, enter price as '0'.")),
                ('sync_error', models.BooleanField(default=False)),
                ('sync_error_msg', models.TextField(blank=True, null=True)),
                ('primary_color', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='gallery.color')),
                ('category', models.ManyToManyField(to='gallery.productcategory')),
            ],
        ),
        migrations.CreateModel(
            name='ProductImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('key_image', models.BooleanField(default=False)),
                ('priority', models.PositiveSmallIntegerField(default=10)),
                ('description', models.CharField(help_text='3-5 words describing the image', max_length=100)),
                ('slug', autoslug.fields.AutoSlugField(always_update=True, editable=False, populate_from='description', unique_with=('fk_product',))),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('image', models.ImageField(upload_to=apps.gallery.models.get_image_path)),
                ('fk_product', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='gallery.product')),
            ],
        ),
    ]
