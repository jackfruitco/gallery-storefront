# Generated by Django 5.1.2 on 2024-12-28 14:09

import autoslug.fields
import django.db.models.deletion
from django.db import migrations, models

import apps.gallery.models


class Migration(migrations.Migration):

    initial = True

    dependencies = []

    operations = [
        migrations.CreateModel(
            name="Color",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=50)),
            ],
        ),
        migrations.CreateModel(
            name="ProductCategory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=50)),
            ],
        ),
        migrations.CreateModel(
            name="Product",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(blank=True, max_length=100)),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("modified_at", models.DateTimeField(auto_now=True)),
                ("description", models.TextField(blank=True)),
                (
                    "slug",
                    autoslug.fields.AutoSlugField(
                        always_update=True,
                        editable=False,
                        populate_from="name",
                        unique=True,
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("ACTIVE", "Active"),
                            ("ARCHIVED", "Archived"),
                        ],
                        default="ACTIVE",
                        help_text="Enable to display this product in Site Gallery",
                        max_length=10,
                        verbose_name="Enable Site Gallery",
                    ),
                ),
                (
                    "feature",
                    models.BooleanField(
                        default=True,
                        help_text="Enable to display this product on the Homepage as a featured product.",
                        verbose_name="Enable Featured Product",
                    ),
                ),
                (
                    "shopify_sync",
                    models.BooleanField(
                        default=False,
                        help_text="Enable to sync this product with Shopify Admin and make it available via the Shopify Online Store and Shopify POS. Please note, updates made via Shopify Admin will be overridden, and do not sync with this site's product database. A Shopify Access Token is required!",
                        verbose_name="Enable ShopSync",
                    ),
                ),
                (
                    "shopify_global_id",
                    models.CharField(
                        blank=True,
                        editable=False,
                        help_text="Shopify Global productID",
                        max_length=100,
                    ),
                ),
                (
                    "shopify_status",
                    models.CharField(
                        choices=[
                            ("DRAFT", "Draft"),
                            ("ACTIVE", "Active"),
                            ("ARCHIVED", "Archived"),
                        ],
                        default="DRAFT",
                        max_length=10,
                    ),
                ),
                ("sku", models.CharField(blank=True, max_length=50)),
                (
                    "price",
                    models.FloatField(
                        default=0,
                        help_text="If item is not synced with Shopify, enter price as '0'.",
                    ),
                ),
                (
                    "primary_color",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE, to="gallery.color"
                    ),
                ),
                ("category", models.ManyToManyField(to="gallery.productcategory")),
            ],
        ),
        migrations.CreateModel(
            name="ProductImage",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "feature_image",
                    models.BooleanField(
                        default=False,
                        help_text="Enable to display this image as the featured image. The featured image is used as the product's primary image.Only select this for one image per product.",
                    ),
                ),
                (
                    "description",
                    models.CharField(
                        help_text="3-5 words describing the image", max_length=100
                    ),
                ),
                (
                    "slug",
                    autoslug.fields.AutoSlugField(
                        always_update=True,
                        editable=False,
                        populate_from="description",
                        unique_with=("fk_product",),
                    ),
                ),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                (
                    "image",
                    models.ImageField(upload_to=apps.gallery.models.get_image_path),
                ),
                (
                    "fk_product",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="gallery.product",
                    ),
                ),
            ],
        ),
    ]
